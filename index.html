<!DOCTYPE html>
<html>
  <head>
    <title>webpackã®ä½¿ã„æ–¹ã‹ã‚‰ã‚³ãƒ³ãƒ‘ã‚¤ãƒ«ã¾ã§ï¼ˆå…¨2å›ï¼‰å‰ç·¨</title>
    <meta http-equiv="Content-Type" content="text/html; charset=UTF-8"/>
    <style type="text/css">
      @import url(https://fonts.googleapis.com/css?family=Yanone+Kaffeesatz);
      @import url(https://fonts.googleapis.com/css?family=Droid+Serif:400,700,400italic);
      @import url(https://fonts.googleapis.com/css?family=Ubuntu+Mono:400,700,400italic);

      body {
        font-family: 'Droid Serif', 'YuGothic', 'Arial', serif;
      }
      h1, h2, h3, h4 {
        font-weight: normal;
        color: #c18100;
        line-height: 1.2;
      }
      a,
      a:link,
      a:visited {
        color: #825700;
      }
      li {
        margin-top: 5px;
      }
      li:first-child {
        margin-top: 0;
      }
      ul ul {
        margin-top: 5px;
      }
      .remark-code, .remark-inline-code { font-family: 'Ubuntu Mono'; }
      .big {
        font-size: 150px;
      }
      code.text {
        white-space: normal;
      }
      pre {
        padding: 1em;
        background-color: #eee;
      }
      table {
        width: 100%;
      }
      th {
        padding: 0.5em;
        background-color: #ffdbb6;
      }
      td {
        padding: 0.5em;
        background-color: #fff7e7;
      }
      tr {
        background-color: #eee;
      }
      blockquote {
        display: inline-block;
        padding: 0 1em;
        margin-left: 0;
        background: #eee;
        border-left: 5px solid #4c3300;
      }
      .w100 img {
        width: 100%;
      }
      .del {
        text-decoration: line-through;
      }
      .remark-slide-scaler {
        overflow: scroll;
      }
      .remark-slide-number {

      }
    </style>
  </head>
  <body>
    <textarea id="source">


      class: center, middle

      # webpackã®ä½¿ã„æ–¹
      ## ï¼ˆå‰ç·¨ï¼‰

      2018/01/16

      Kobayashi Kazuhiro (kzhrk)


      ---

      ## æœ¬æ—¥ã®ãƒ†ãƒ¼ãƒ

      - webpackã¨ã¯ä½•ã‹
      - webpackã®è¨­å®šãƒ•ã‚¡ã‚¤ãƒ«/å®Ÿè¡Œ
      - webpackã®ãƒ¡ãƒªãƒƒãƒˆ
      - èª²é¡Œ

      ---
      class: center, middle

      # webpackã¨ã¯ä½•ã‹

      ---

      ## é™çš„ãªãƒ¢ã‚¸ãƒ¥ãƒ¼ãƒ«ãƒãƒ³ãƒ‰ãƒ©ãƒ¼

      webpackã¯JavaScript Applicationã®ãŸã‚ã®é™çš„ãªãƒ¢ã‚¸ãƒ¥ãƒ¼ãƒ«ãƒãƒ³ãƒ‰ãƒ©ãƒ¼

      > [Concepts](https://webpack.js.org/concepts/)ã‚ˆã‚Šå¼•ç”¨<br>
      > webpack is a static module bundler for modern JavaScript applications.

      ---
      class: center, middle

      # ğŸ¤”ğŸ¤”ğŸ¤”

      ---

      ## ãƒ¢ã‚¸ãƒ¥ãƒ¼ãƒ«ãƒãƒ³ãƒ‰ãƒ©ãƒ¼

      è¤‡æ•°ã®ãƒ¢ã‚¸ãƒ¥ãƒ¼ãƒ«ã‚’ã²ã¨ã¤ã‚‚ã—ãã¯è¤‡æ•°ã®ãƒ•ã‚¡ã‚¤ãƒ«ã«ã¾ã¨ã‚ã‚‹ãƒ„ãƒ¼ãƒ«

      ãƒ¢ã‚¸ãƒ¥ãƒ¼ãƒ«æ¯ã®ä¾å­˜é–¢ä¿‚ã‚’è§£æ±ºã—ã€ã²ã¨ã¤ã‚‚ã—ãã¯è¤‡æ•°ã®ãƒãƒ³ãƒ‰ãƒ«ã‚’ãƒ“ãƒ«ãƒ‰ã™ã‚‹

      ---

      ## ãã®ä»–ã®ãƒ¢ã‚¸ãƒ¥ãƒ¼ãƒ«ãƒãƒ³ãƒ‰ãƒ©ãƒ¼

      - [r.js](http://requirejs.org/docs/optimization.html)
      - [browserify](http://browserify.org/)
      - [fusebox](https://fuse-box.org/)
      - [rollup](https://rollupjs.org/)

      ---
      class: center, middle

      # ãªãœwebpackãªã®ã‹

      ---

      ## Googleãƒˆãƒ¬ãƒ³ãƒ‰

      - [r.js, browserify js, fusebox js, rollup js, webpack js](https://trends.google.co.jp/trends/explore?q=r.js,browserify%20js,fusebox%20js,rollup%20js,webpack%20js)

      ## GitHub

      - [browserify: 6,156](https://github.com/search?utf8=%E2%9C%93&q=browserify)
      - [rollup: 1,830](https://github.com/search?utf8=%E2%9C%93&q=rollup&type=)
      - [webpack: 61,886](https://github.com/search?utf8=%E2%9C%93&q=webpack)

      ---
      class: center, middle

      # ğŸ’ªğŸ’ªğŸ’ªé›†åˆçŸ¥ã¯æ­£ç¾©ğŸ’ªğŸ’ªğŸ’ª

      ---
      class: center, middle

      # è©±ã¯å¤‰ã‚ã£ã¦
      # å®Ÿæ¡ˆä»¶ã§ä½¿ã‚ã‚Œã‚‹webpack

      ---

      ## webpack-stream

      webpackã‚’streamã¨ã—ã¦gulpä¸Šã§å®Ÿè¡Œã™ã‚‹ãŸã‚ã®ãƒ„ãƒ¼ãƒ«

      webpack-stream@3ã¯webpack@2ã«å¯¾å¿œ

      [webpack-stream@4ã‹ã‚‰webpack@3ã«å¯¾å¿œ](https://github.com/shama/webpack-stream#release-history)

      ---

      ## webpack-streamã®å†…éƒ¨ã§<br>å®Ÿè¡Œã•ã‚Œã¦ã„ã‚‹ã“ã¨

      1. webpackã‚’èª­ã¿è¾¼ã‚“ã§<br>https://github.com/shama/webpack-stream/blob/master/index.js#L69

      2. å®Ÿè¡Œã—ã¦ã„ã‚‹ã ã‘<br>https://github.com/shama/webpack-stream/blob/master/index.js#L132

      ---

      ## webpack-streamã®ãƒ¡ãƒªãƒƒãƒˆ

      .pipeã§ä»–ã®gulp pluginã®å‡¦ç†ã‚’è¿½åŠ ã™ã‚‹ã“ã¨ãŒã§ãã‚‹

      gulp-strip-debugãªã©

      ---
      class: center, middle

      # ã§ã‚‚ãã‚Œwebpackã®<br>optimizeã§å‡ºæ¥ã‚‹ã‚ˆ

      ---

      ## UglifyjsWebpackPlugin

      ```
      new webpack.optimize.UglifyJsPlugin({
        compress:{
          warnings: false,
          drop_debugger: true,
          drop_console: true
        }
      })
      ```

      https://webpack.js.org/plugins/uglifyjs-webpack-plugin/
      https://github.com/mishoo/UglifyJS2/tree/harmony#compress-options

      ---
      class: center, middle

      # webpackã‚³ãƒãƒ³ãƒ‰ã§ãƒ“ãƒ«ãƒ‰

      ---

      ## webpack-cliã®ç¢ºèª/ã‚¤ãƒ³ã‚¹ãƒˆãƒ¼ãƒ«

      ```
      $ webpack -v
      $
      $ # ä½•ã‚‚è¡¨ç¤ºã•ã‚Œãªã‹ã£ãŸã‚‰
      $ npm i -g webpack-cli
      ```

      ---

      ## package.json

      ```
      $ npm init -y
      $ npm i -D webpack
      ```

      ---

      ## webpack.config.js

      ```:js
      const path = require('path');

      module.exports = {
        entry: {
          main: './src/js/main.js'
        },
        output: {
          filename: '[name].bundle.js',
          path: path.resolve(__dirname, './public/js')
        }
      };
      ```

      ---

      ## src/js/main.js

      ```:js
      import add from './modules/add';

      console.log(add(1, 2));
      ```

      ---

      ## src/js/modules/add.js

      ```:js
      export default function (a, b) {
        return a + b;
      };
      ```

      ---

      ## ãƒ“ãƒ«ãƒ‰&å®Ÿè¡Œ

      ```
      $ webpack -w
      $ node public/js/main.bundle.js
      ```

      ---
      class: center, middle

      # webpackã®ãƒ¡ãƒªãƒƒãƒˆ

      ---

      ## ãƒ¢ã‚¸ãƒ¥ãƒ¼ãƒ«ãƒãƒ³ãƒ‰ãƒ©ãƒ¼ã®ãƒ¡ãƒªãƒƒãƒˆ

      - å¯èª­æ€§ã®å‘ä¸Š
      - ä½œæ¥­åˆ†æ‹…
      - ãƒ¢ã‚¸ãƒ¥ãƒ¼ãƒ«ã®ä¿å®ˆæ€§ãŒé«˜ã¾ã‚‹
      - ãƒ¢ã‚¸ãƒ¥ãƒ¼ãƒ«ã®å†åˆ©ç”¨æ€§ãŒé«˜ã¾ã‚‹
      - ä¾å­˜é–¢ä¿‚ï¼ˆèª­ã¿è¾¼ã¿é †ç•ªï¼‰ãŒè¤‡é›‘ã«ãªã‚‰ãªã„

      ---

      ## å¯èª­æ€§ã®å‘ä¸Š

      ãƒ•ã‚¡ã‚¤ãƒ«ãŒæ©Ÿèƒ½æ¯ã«ç´°åˆ†åŒ–ã•ã‚Œã‚‹ã®ã§JSã®å¯èª­æ€§ãŒä¸ŠãŒã‚‹ã€‚

      ãƒ•ã‚¡ã‚¤ãƒ«åã‚„ãƒ¢ã‚¸ãƒ¥ãƒ¼ãƒ«åã§JSã®æ©Ÿèƒ½ãŒæ˜ç¤ºçš„ã«ãªã‚‹ã€‚

      ---

      ## ä½œæ¥­åˆ†æ‹…

      ãƒ¢ã‚¸ãƒ¥ãƒ¼ãƒ«æ¯ã«é–‹ç™ºä½œæ¥­ã‚’åˆ†æ‹…ã§ãã‚‹ã€‚

      ä¿®æ­£ãŒå…¥ã£ãŸå ´åˆã‚‚ã€å„è‡ªã®æ‹…å½“ãƒ¢ã‚¸ãƒ¥ãƒ¼ãƒ«ã®ä¿®æ­£ä½œæ¥­ã«æŠ‘ãˆã‚‰ã‚Œã‚‹ã€‚

      ---

      ## ãƒ¢ã‚¸ãƒ¥ãƒ¼ãƒ«ã®ä¿å®ˆæ€§ãŒé«˜ã¾ã‚‹

      ãƒ¢ã‚¸ãƒ¥ãƒ¼ãƒ«ã¯ä»–ã®ã‚³ãƒ¼ãƒ‰ã¨ã®ä¾å­˜æ€§ãŒå°‘ãªãã‚ã‚‹ï¼ˆç–çµåˆï¼‰ã¹ããªã®ã§ã€ã—ã£ã‹ã‚Šè¨­è¨ˆã‚’ã™ã‚Œã°å¤‰æ›´ã‚„æ‹¡å¼µãŒã—ã‚„ã™ããªã‚‹ã€‚

      ãƒ¢ã‚¸ãƒ¥ãƒ¼ãƒ«ãŒç–çµåˆã§ã‚ã‚Œã°ã€å˜ä½“ãƒ†ã‚¹ãƒˆãŒæ›¸ãã‚„ã™ããªã‚‹ã€‚

      ---

      ## ãƒ¢ã‚¸ãƒ¥ãƒ¼ãƒ«ã®å†åˆ©ç”¨æ€§ãŒé«˜ã¾ã‚‹

      ç–çµåˆãªè¨­è¨ˆã‚’ã—ãŸãƒ¢ã‚¸ãƒ¥ãƒ¼ãƒ«ã¯ä»–ã®ãƒ—ãƒ­ã‚¸ã‚§ã‚¯ãƒˆã§ã®å†åˆ©ç”¨ãŒå¯èƒ½ã«ãªã‚Šã€é–‹ç™ºã‚³ã‚¹ãƒˆãŒæŠ‘ãˆã‚‰ã‚Œã‚‹ã€‚

      ---

      ## ä¾å­˜é–¢ä¿‚ï¼ˆèª­ã¿è¾¼ã¿é †ç•ªï¼‰ãŒè¤‡é›‘ã«ãªã‚‰ãªã„

      scriptã‚¿ã‚°ã®èª­ã¿è¾¼ã¿é †ã®ã‚ˆã†ãªä¾å­˜é–¢ä¿‚ã‚’è§£æ¶ˆã§ãã‚‹ã€‚

      ---

      ## ã¾ã¨ã‚

      webpackã¯é™çš„ãªãƒ¢ã‚¸ãƒ¥ãƒ¼ãƒ«ãƒãƒ³ãƒ‰ãƒ©ãƒ¼ã€‚

      gulpã§ä½¿ã‚ã‚Œã¦ã„ã‚‹webpack-streamã®ä¸­èº«ã¯webpackã€‚

      webpackï¼ˆãƒ¢ã‚¸ãƒ¥ãƒ¼ãƒ«ãƒãƒ³ãƒ‰ãƒ©ãƒ¼ï¼‰ãŒãªã„ã¨å®‰å…¨ãªJavaScripté–‹ç™ºã¯ä¸å¯èƒ½ã€‚

      ---

      ## èª²é¡Œ

      src/js/modulesé…ä¸‹ã«ä½•ã‹ãƒ¢ã‚¸ãƒ¥ãƒ¼ãƒ«ã‚’è¿½åŠ ã—ã¦console.logã§è¡¨ç¤ºã™ã‚‹

      ä¾‹ï¼šsub.jsï¼ˆå¼•ãç®—ï¼‰ã®ãƒ¢ã‚¸ãƒ¥ãƒ¼ãƒ«ã‚’è¿½åŠ ã—ã¦å¼•ãç®—ã®çµæœã‚’è¡¨ç¤ºã™ã‚‹

      ---
      class: center, middle

      # END


    </textarea>
    <script src="js/remark.min.js" type="text/javascript">
    </script>
    <script type="text/javascript">
      var slideshow = remark.create({
        navigation: {
          scroll: false
        }
      });
    </script>
  </body>
</html>
